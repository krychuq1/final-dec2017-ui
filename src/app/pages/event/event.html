<div *ngIf="showEvents">
  <h1 *ngIf="user" class="currentEvents">Current events:</h1>
  <div class="event-holder" *ngFor="let event of events" >
    <!--title and holders-->
    <mat-card  id="{{event.id}}">
      <mat-card-title>
        <div class="title-icons">
          <h1 >{{event.title}}</h1>
          <p *ngIf="eventDistance">{{getDistance(event.id)}} away form you</p>
          <div class="event-card-icons-container">
            <a [routerLink]="['/event/one/', event.id]" class="material-icons">visibility</a>
            <a [routerLink]="['/event/one/', event.id]" class="material-icons">mode_edit</a>
            <i id="delete-event-icon" class="material-icons" (click)="deleteEvent(event.id)">delete</i>
          </div>
        </div>
      </mat-card-title>

      <div class="event-sub-container">
        <div class="event-card-details-container">
          <mat-card-subtitle>
            <span>Start date:</span> {{event.start_date}}
          </mat-card-subtitle>
          <mat-card-subtitle>
            <span>End date:</span> {{event.end_date}}
          </mat-card-subtitle>
          <mat-card-subtitle class="normal-text">
            <span>Location:</span>{{event.address}} {{event.city}}
          </mat-card-subtitle>

          <mat-card-subtitle class="normal-text">
            <mat-progress-bar *ngIf="event.percentage" mode="determinate" value="{{event.percentage}}">
            </mat-progress-bar>
            <mat-progress-bar *ngIf="!event.percentage" mode="determinate" value="100">
            </mat-progress-bar>
            <span>Available seats:</span>
            {{event.number_of_places}}
          </mat-card-subtitle>
        </div>
        <div class="event-card-content">
          <mat-card-subtitle class="normal-text">
            <button mat-raised-button   color="primary" [routerLink]="['/event/tickets/', event.id]">TICKET MANAGER</button>
          </mat-card-subtitle>
        </div>
      </div>

    </mat-card>
  </div>
</div>


<router-outlet></router-outlet>
